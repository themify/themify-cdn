!function($){"use strict";window.addEventListener("DOMContentLoaded",function(){$("#ptb-submission-edit-form").on("submit",function(s){s.preventDefault();var t=$(this),n=t.find(".ptb-submission-success-text");$.ajax({url:t.attr("action"),type:"POST",dataType:"json",data:t.serialize(),beforeSend:function(){t.find(".ptb-submission-required-error").removeClass("ptb-submission-required-error"),t.find(".ptb-submission-error-text").remove(),n.html(""),t.addClass("ptb-submission-wait")}}).always(function(){t.removeClass("ptb-submission-wait")}).done(function(s){if(s)if(s.success)n.html(s.success);else for(var i in s){var e=t.find('[name^="submission['+i+']"]');e.addClass("ptb-submission-required-error"),e.closest("td").append('<div class="ptb-submission-error-text">'+s[i]+"</div>")}})})},{once:!0,passive:!0})}(jQuery);