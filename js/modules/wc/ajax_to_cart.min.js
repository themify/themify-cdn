let ThemifyShoppeAjaxCart;(($,f,h,_,m)=>{"use strict";let n=!1;const o=h.querySelectorAll("#header .icon-shopping-cart"),u=()=>{for(let t=o.length-1;-1<t;--t)o[t].classList.remove("tf_loader");const t=h.querySelector(".cart .icon-shopping-cart");t&&t.classList.remove("tf_loader")};if(f.body.on("adding_to_cart",(t,e,a)=>{f.trigger("themify_theme_spark",e);for(let t=o.length-1;-1<t;--t)o[t].className+=" tf_loader"}).on("wc_fragments_loaded",function(t,e,a){const o=h.tfId("cart-icon-count");null!==o&&this.classList.toggle("wc-cart-empty",void 0!==o.tfClass("cart_empty")[0])}).on("added_to_cart",function(t){if(u(),m.ajaxCartSeconds&&!1===n&&!this.classList.contains("post-lightbox")){n=!0;let o=parseInt(m.ajaxCartSeconds);if(h.body.classList.contains("cart-style-dropdown")){const e=h.tfClass("shopdock");for(let t=e.length-1;-1<t;--t)e[t].parentNode.classList.add("show_cart"),setTimeout(()=>{e[t].parentNode.classList.remove("show_cart"),n=!1},o)}else{const a=f.isTouch?"cart-link-mobile-link":"cart-link",r=h.tfId(a);if(null!==r){const s=r.getAttribute("href"),c=h.tfId(s.replace("#",""));null!==c&&(f.on("sidemenushow",(t,e,a)=>{s===t&&setTimeout(()=>{$(c).is(":hover")?c.tfOn("mouseleave",function(){a.hidePanel(),h.body.classList.remove("tf_auto_cart_open")},{once:!0,passive:!0}):(a.hidePanel(),h.body.classList.remove("tf_auto_cart_open")),n=!1},o)},!0),h.body.classList.add("tf_auto_cart_open"),setTimeout(()=>{r.click()},100))}}}}),"undefined"!=typeof wc_add_to_cart_params&&f.body.on("click",".remove_from_cart_button",function(t){t.preventDefault(),this.classList.remove("tf_close"),this.classList.add("tf_loader")}),ThemifyShoppeAjaxCart=async function(t){if(!(this.classList.contains("auction_form")||-1<_.location.search.indexOf("switch-subscription")||null!==this.closest(".product-type-external"))){t.preventDefault();const e=new FormData(this),a=this.tfClass("single_add_to_cart_button")[0],o=a?a.classList:null,r=this.querySelector('[name="add-to-cart"]');if(!(!r||o&&o.contains("loading"))){"INPUT"!==r.tagName&&e.set("add-to-cart",r.value),o&&(o.remove("added"),o.add("loading")),f.body.triggerHandler("adding_to_cart",[this.querySelector('[type="submit"]'),e]);try{const s=await f.fetch(e,null,null,woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","theme_add_to_cart"));if(!s)throw"error";if(!s.fragments&&!s.success)throw s.data;const c=s.fragments,n=s.cart_hash;if(c){const i=Object.keys(c);let a=null;for(let e=i.length-1;-1<e;e--)for(let t=(a=h.querySelectorAll(i[e])).length-1;-1<t;t--)a[t].className+=" updating",a[t].outerHTML=c[i[e]]}o&&o.add("added"),f.body.triggerHandler("added_to_cart",[c,n]),m.redirect&&(_.location.href=m.redirect)}catch(a){const l=h.createDocumentFragment(),d=h.createElement("div");await f.loadJs(f.url+"js/admin/notification",!!_.TF_Notification);for(let e=0,t=(a=Array.isArray(a)?a:[a]).length;e<t;++e){let t=h.createElement("template");t.innerHTML=a[e],l.appendChild(t.content)}d.className="wc_errors",d.appendChild(l),await TF_Notification.showHide("error",d,3e3)}o&&o.remove("loading"),u()}}},m.ajaxSingleCart){const t=h.querySelector("form.cart");t&&t.tfOn("submit",ThemifyShoppeAjaxCart)}})(jQuery,Themify,document,window,themifyScript);