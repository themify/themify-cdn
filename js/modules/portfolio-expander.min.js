((t,n)=>{"use strict";const o=n.tfId("single-portfolio-expanded"),i={init(e){o.classList.remove("portfolio-expanded-loaded"),t.fetch(null,"html",{method:"GET"},t.updateQueryString("post_in_lightbox",1,e.getAttribute("href"))).then(e=>{while(null!==o.firstChild)o.lastChild.remove();o.appendChild(e),o.classList.remove("tf_lazy"),t.reRun(o),this.initClose(),this.initpagination(),setTimeout(()=>{o.className+=" portfolio-expanded-loaded"},50)})},initpagination(){const e=o.tfClass("post-nav")[0];if(e){const t=e.querySelectorAll(".next,.prev"),i=this;for(let e=t.length-1;-1<e;--e)t[e].tfOn("click",function(e){e.preventDefault(),e.stopPropagation(),i.init(this.tfTag("a")[0])},{once:!0})}},initClose(){const e=n.createElement("a"),t=n.createElement("i");t.className="icon-close",e.className="close-portfolio",e.href="#",e.appendChild(t),e.tfOn("click",e=>{e.preventDefault(),e.stopPropagation(),n.body.classList.remove("tf_portfolio_expander"),o.tfOn("transitionend",function(){this.innerHTML=""},{passive:!0,once:!0}).classList.remove("expanded-prepeare")},{once:!0});let i=o.tfClass("post-nav")[0];i||((i=n.createElement("div")).className="post-nav tf_clearfix",o.appendChild(i)),i.appendChild(e)}};t.on("themify_theme_portfolio_expand",e=>{i.init(e)})})(Themify,document);