(($,S,T)=>{"use strict";let r=null,e=null,l=null,s=S.tfId("themify-progress");s||((s=S.createElement("div")).id="themify-progress",S.body.appendChild(s));const n={progress(e){let t=0,i=0;1===e?(t=15,i=25):2===e?(t=45,i=60):3===e?(t=70,i=85):4===e&&(t=i=100);const r=Math.floor(Math.random()*(i-t+1))+t;100===r&&s.tfOn("transitionend",function(){this.removeAttribute("style")},{once:!0,passive:!0}),s.style.width=r+"%"},initClick(){const e=S.tfId("searchform"),t=this;l=window.location.href,$(S).on("click","a",this.click),e&&e.tfOn("submit",function(e){e.preventDefault(),t.search(this)})},init(){setTimeout(()=>{this.initClick(),window.tfOn("popstate",()=>{this.popstate()},{passive:!1})},500)},render(d,e,m){const p=S.createElement("html");p.innerHTML=e;let i=p.querySelector("#tb_builder_js_style-js"),r=p.querySelector("#tb_builder_js_style-js-extra"),t=0;i&&(i=S.adoptNode(i),r=S.adoptNode(r));const u=this,y=p.tfTag("head")[0],l={},s=[],g=[],_=S.createDocumentFragment(),b=S.tfTag("head")[0],n=y.querySelectorAll("link"),w=S.tfId("tf_mainwrap"),o=p.querySelectorAll("script"),a=function(e){if(--t,e&&(this.tfOff(["load","error"],a,{passive:!0,once:!0}),"error"===e.type)&&this.remove(),t<=0){u.progress(3);const f=b.querySelectorAll('link[media="prepare"]'),c=f.length;let a=0;for(let e=c-1;-1<e;--e)f[e].media=f[e].getAttribute("data-media");const h=()=>{const i=S.styleSheets;for(let e=i.length-1;-1<e;--e){let t=i[e].href;if(t)for(let e=c-1;-1<e;--e)t===f[e].getAttribute("href")&&++a}if(a>=c){const e=p.tfTag("body")[0],t=b.tfTag("meta"),r=y.tfTag("meta"),o=e.querySelector("#tf_mainwrap"),l=o.querySelector("#themify-google-fonts-css"),s=w.querySelector("#themify-google-fonts-css"),n=o.tfTag("link");o.className+=" tf_hide tf_abs tf_opacity";for(let e=n.length-1;-1<e;--e)n[e].hasAttribute("as")&&n[e].remove();s&&l&&s.href!==l.href?s.replaceWith(l):!s&&l&&S.body.appendChild(l),w.before(o),T.trigger("tf_fixed_header_disable"),T.trigger("tb_scroll_highlight_disable"),$(window).off(),$(S).off(),T.body.off(),w.tfOn("transitionend",function(){this.remove();for(let e=g.length-1;-1<e;--e)g[e].remove();o.classList.remove("tf_abs");const e=S.querySelector("#wpadminbar.nojs");e&&e.classList.remove("nojs")},{once:!0,passive:!0}),w.className+=" tf_abs tf_opacity",S.body.className=e.className,w.style.zIndex="1",o.classList.remove("tf_hide");for(let e=t.length-1;-1<e;--e)"themify-framework-css"===t[e].id||"viewport"===t[e].name||t[e].hasAttribute("charset")||t[e].remove();for(let e=0;e<r.length;++e)"themify-framework-css"===r[e].id||"viewport"===r[e].name||r[e].hasAttribute("charset")||b.prepend(r[e]);b.tfTag("title")[0].replaceWith(y.tfTag("title")[0]),u.progress(4),setTimeout(()=>{const i=["tf_theme_bg_css","tf_theme_entry_css"];for(let t=i.length-1;-1<t;--t)if(null===y.querySelector("#"+i[t])){let e=b.querySelector("#"+i[t]);e&&e.remove()}const s=y.querySelectorAll("style"),n=b.tfTag("style");for(let l=0,e=s.length;l<e;++l){let r=s[l].id;if("tf_lazy_common"!==r&&"tf_lazy_style"!==r&&"tf_fonts_style"!==r&&"tb_lax_style"!==r&&"woocommerce-inline-inline-css"!==r){let t=s[l].innerText.replace(/ /g,""),i=!1;for(let e=n.length-1;-1<e;--e)if(t===n[e].innerText.replace(/ /g,"")){i=!0;break}if(!1===i){let e=r?b.querySelector("#"+r):null;e?e.innerHTML=s[l].innerHTML:b.appendChild(s[l])}}}window.scrollY&&window.scroll(0,0),o.classList.remove("tf_opacity"),!0===m?history.replaceState({path:d},S.title,d):history.pushState({path:d},S.title,d);const r=S.tfTag("script"),l=_.children,t=[];for(let t=r.length-1;-1<t;--t){let e=r[t].src;e&&-1===e.indexOf("themify.builder.loader")||r[t].remove()}for(let i=l.length-1;-1<i;--i){let e=l[i].src;if(e)if(-1!==e.indexOf("themify.builder.loader"))l[i].remove();else{let e=new Promise((e,t)=>{l[i].tfOn("load",e,{passive:!0,once:!0}).tfOn("error",t,{passive:!0,once:!0})});t.push(e)}}S.body.appendChild(_),Promise.all(t).finally(()=>{T.triggerEvent(S,"DOMContentLoaded"),T.triggerEvent(window,"load"),T.triggerEvent(window,"pageshow"),T.trigger("tf_init"),T.trigger("tf_music_ajax_ready")}),"undefined"!=typeof tbLocalScript&&(tbLocalScript=window.tbLocalScript),themifyScript=window.themifyScript,themify_vars=window.themify_vars,T.jsLazy.delete("tf_gal"),T.lazyScroll(T.convert(o.querySelectorAll("[data-lazy]")).reverse(),!0),T.trigger("themify_theme_init",window.themifyScript),u.initClick(),T.fonts(),T.gallery(),T.wc(),T.tooltips(),"undefined"!=typeof ThemifyBuilderModuleJs&&ThemifyBuilderModuleJs.init(),"undefined"!=typeof ThemifyPopup&&setTimeout(ThemifyPopup.windowLoad,1e3)},60)}else setTimeout(h,50)};h()}},f=S.createDocumentFragment();for(let i=n.length-1;-1<i;--i){let e=n[i],t=e.id;"themify_concate-css"===t||"themify_mobile_concate-css"===t||"themify-media-queries-css"===t?(l[i]=t,s.push(i)):"preload"===e.getAttribute("rel")&&null===S.querySelector('link[href="'+e.getAttribute("href")+'"]')&&f.appendChild(e)}S.head.prepend(f),s.sort();const c=s.length-1,h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);for(let e=0,t=o.length;e<t;++e){let l=o[e].getAttribute("src");if(!l||-1!==l.indexOf("themify.builder.loader")||-1===l.indexOf("themify/")&&-1===l.indexOf("plugins/builder-")&&-1===l.indexOf("wp-polyfill")&&-1===l.indexOf("themify-music/js/")&&-1===l.indexOf("jquery.js")&&-1===l.indexOf("jquery.min.js")&&-1===l.indexOf("jquery-migrate.")&&-1===l.indexOf("jquery.blockUI.min.js")&&null===S.querySelector('script[src="'+l+'"]')){let t=S.createElement("script");if(l){let e=S.createElement("link");e.rel=h?"preload":"prefetch",e.as="script",e.href=l,w.appendChild(e)}else t.innerHTML=o[e].innerHTML;let i=o[e].attributes,r="tf_vars"===o[e].id;for(let e=i.length-1;-1<e;--e)!0==r?"type"===i[e].name&&t.setAttribute(i[e].name,"text/javascript"):t.setAttribute(i[e].name,i[e].value);l&&(t.async=!1),_.appendChild(t),o[e].remove()}}if(i){let e=S.createElement("script"),t=(e.innerHTML=r.innerHTML,S.createElement("script"));t.tfOn("load",()=>{T.triggerEvent(S,"tb_regenerate_css")}).async=!1,t.src=i.src,S.body.append(e,t)}let v=null,x=null;for(let r=0,e=n.length;r<e;++r){let i=n[r];if("stylesheet"===i.getAttribute("rel")){let e=i.id;if((!e||"themify_concate-css"===e||"themify_mobile_concate-css"===e||null===S.tfId(e))&&null===S.querySelector('link[href="'+i.getAttribute("href")+'"][rel="stylesheet"]'))if(i.setAttribute("data-media",i.getAttribute("media")||"all"),i.setAttribute("media","prepare"),++t,i.tfOn(["load","error"],a,{passive:!0,once:!0}),"themify_concate-css"===e||"themify_mobile_concate-css"===e){const j=S.tfId(e);j.before(i),g.push(j)}else if(r<s[0])(v=null===v?S.tfId(l[s[0]]):v).before(i);else if(r>s[c])(x=null===x?S.tfId(l[s[c]]):x).after(i);else{let t=s[0];for(let e=1;e<=c;++e)s[e]<r&&(t=s[e]);let e=S.tfId(l[t]);e.after(i)}}}0===t&&a()},click(e){if("_blank"!==this.getAttribute("target")&&null===this.closest("#wpadminbar,.themify_lightbox,.themify-lightbox")){let t=this.getAttribute("href");if(t&&"#"!==t&&"#"!==t[0]&&t!==window.location.href&&-1===t.indexOf("post_in_lightbox=")){if(-1===t.indexOf(location.hostname)){const r=S.createElement("a");r.href=t,t=r.href}const i=new URL(t);if(i.hostname===location.hostname&&-1!==t.indexOf(themifyScript.site_url)&&(!i.hash||i.pathname!==location.pathname)){const l=i.pathname.split(".").pop().split("?")[0].split("#")[0].toLowerCase(),s=themifyScript.disable_link;if("pdf"!==l&&"png"!==l&&"jpeg"!==l&&"jpg"!==l&&"gif"!==l&&"webp"!==l&&"apng"!==l&&"zip"!==l&&"gzip"!==l&&"gz"!==l&&"rar"!==l&&"tar"!==l&&"swf"!==l&&"mp3"!==l&&"mp4"!==l){for(let e=s.length-1;-1<e;--e)if(-1!==t.indexOf(s[e]))return;e.preventDefault(),n.ajax(t)}}}else e.preventDefault()}},search(e){const t=Object.fromEntries(new FormData(e)),i=new URL(e.getAttribute("action"));for(let e in t)i.searchParams.append(e,t[e]);i.href&&window.location.href!==i.href&&this.ajax(i.href,!0)},popstate(){const e=window.location.href,t=new URL(e),i=new URL(l);t.hash&&i.pathname===t.pathname||this.ajax(e,!0)},ajax(t,i){null===r&&T.loadCss(themify_vars.theme_url+"/styles/modules/ajax-loader",null,themify_vars.theme_v).then(()=>{r=!0,T.trigger("tf_music_ajax_css_loaded")}),e&&e.abort(),e=new AbortController,$(".close-lightbox").click(),this.progress(1),T.fetch({tf_music_ajax:1},"text",{method:"GET",signal:e.signal},t).then(e=>{this.progress(2),!0===r?this.render(t,e,i):T.on("tf_music_ajax_css_loaded",()=>{this.render(t,e,i)},!0)})}};n.init()})(jQuery,document,Themify);