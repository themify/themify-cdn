(($,a,e,r,t,n)=>{"use strict";const l={bodyCl:r.body.classList,v:t.theme_v,url:t.theme_url,init(){this.isFullPageScroll=!a.is_builder_active&&this.bodyCl.contains("full-section-scrolling"),this.is_horizontal_scrolling=!0===this.isFullPageScroll&&this.bodyCl.contains("full-section-scrolling-horizontal"),this.readyView(),a.megaMenu(r.tfId("main-nav"),!0),this.fixedHeader(),this.animateonView(),!0===this.isFullPageScroll&&this.fullpage(),a.sideMenu(r.tfId("menu-icon"),{hasOverlay:!0,close:"#menu-icon-close"}),setTimeout(()=>{this.clickEvents()},800),this.portfolioExpand()},fixedHeader(){!1===this.is_horizontal_scrolling&&this.bodyCl.contains("fixed-header-enabled")&&!this.bodyCl.contains("menubar-bottom")&&null!==r.tfId("headerwrap")&&(this.hasFixedHeader=!0,a.fixedHeader())},fullpage(e){if(e&&null!==r.fullscreenElement)a.on("tfsmartresize",this.fullpage.bind(this),!0);else{const t=(e||a).w,l=r.tfId("footerwrap");if(n.f_s_d&&t<parseInt(n.f_s_d))a.lazyDisable=null,l&&l.classList.remove("tf_hide"),this.bodyCl.remove("full-section-scrolling"),this.isFullPageScroll=!1,a.lazyLoading(),a.on("tfsmartresize",this.fullpage.bind(this),!0),"undefined"!=typeof tbLocalScript&&tbLocalScript.scrollHighlight&&(delete tbLocalScript.scrollHighlight.scroll,"undefined"!=typeof ThemifyBuilderModuleJs)&&ThemifyBuilderModuleJs.initScrollHighlight();else{this.bodyCl.add("full-section-scrolling"),a.lazyDisable=!0,this.isFullPageScroll=!0;const s=void 0===r.tfClass("type-section")[0],i=".module_row_slide";if(!s||void 0!==r.tfClass("themify_builder")[0]){let e=".section-post:not(.section-post-slide)",t="div:not(.module-layout-part) > #loops-wrapper";s&&(e=".module_row:not("+i+")",t="div:not(.module-layout-part) > .themify_builder_content:not(.not_editable_builder)"),l&&this.bodyCl.contains("fullpage-footer")&&$(l).addClass("module_row").appendTo(t);const o={usesRows:s,sectionClass:e,is_horizontal:this.is_horizontal_scrolling,slideClass:i,is_fixedHeader:this.hasFixedHeader,sectionsWrapper:t};a.loadJs(this.url+"/js/modules/fullpage",null,this.v).then(()=>{a.trigger("themify_theme_fullpage_init",[o])})}}}},readyView(){!this.isFullPageScroll&&"1"!==n.pageLoaderEffect||a.on("themify_onepage_afterload",()=>{this.bodyCl.add("ready-view"),this.bodyCl.remove("hidden-view"),$(".section_loader").fadeOut(500),e.tfOn("beforeunload",e=>{const t=e.target.activeElement,l=t.getAttribute("href");"BODY"===t.tagName||"tb_toolbar"===t.getAttribute("id")||t.closest("#tb_toolbar")||l&&!l.indexOf("tel:")&&l.indexOf("mailto:")})},!0,!(this.isFullPageScroll&&!(n.f_s_d&&a.w<=parseInt(n.f_s_d))))},animateonView(){let l=null;const t=e=>{const t=e.querySelectorAll(".tf_higlight_chart,.progress-bar");if(t[0]){null===l&&(l=new IntersectionObserver((l,s)=>{for(let e=l.length-1;-1<e;--e)if(!0===l[e].isIntersecting){let t=l[e].target;if(s.unobserve(t),t.classList.contains("progress-bar")){let e=t.tfClass("progress-bar-bg")[0];e&&e.hasAttribute("data-percent")&&(e.style.width=e.dataset.percent,e.removeAttribute("data-percent"))}else{let e=t.tfClass("tf_higlight_feature_stroke")[0];e&&e.hasAttribute("data-progress")&&(e.setAttribute("stroke-dasharray",e.getAttribute("data-progress")+",100"),e.removeAttribute("data-progress"),e.classList.add("tf_higlight_feature_loaded"))}}},{threshold:.8}));for(let e=t.length-1;-1<e;--e)l.observe(t[e])}};a.on("tf_swiper_init",e=>{t(e.el)}),t(r)},clickEvents(){let e=r.tfId("footer-tab");if(null!==e&&(e=e.tfTag("a")[0])){const t=e=>{const t=r.tfId("footerwrap");if(t){const l=t.classList.contains("expanded");(e||l)&&(l||a.lazyScroll(t.querySelectorAll("[data-lazy]"),!0),$("#footerwrap-inner").slideToggle(),t.classList.toggle("expanded"))}};e.tfOn("click",e=>{e.preventDefault(),t(e)}),a.on("themify_onepage_scrolled",t)}(e=(e=r.tfClass("back-top")[0])&&e.tfTag("a")[0])&&e.tfOn("click",e=>{e.preventDefault(),a.scrollTo()})},portfolioExpand(){const t=this;let l=null,s=!1;a.body.on("click",".post-content-backlink",function(e){e.preventDefault(),e.stopPropagation(),!0!==s&&(s=!0,null===l&&((l=r.createElement("div")).id="single-portfolio-expanded",l.className="single-portfolio",r.body.appendChild(l)),t.bodyCl.add("tf_portfolio_expander"),l.className+=" tf_lazy",l.classList.remove("expanded-prepeare"),setTimeout(()=>{l.className+=" expanded-prepeare"},50),Promise.all([a.loadCss(t.url+"/styles/modules/single/portfolio",null,t.v),a.loadCss(t.url+"/styles/modules/portfolio-expander",null,t.v),a.loadJs(t.url+"/js/modules/portfolio-expander",null,t.v)]).then(()=>{a.trigger("themify_theme_portfolio_expand",this),s=!1}))})}};l.init()})(jQuery,Themify,window,document,themify_vars,themifyScript);