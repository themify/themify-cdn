(($,r,i,o,n,e,s)=>{"use strict";let l=null;const t={bodyCl:o.body.classList,init(){r.megaMenu(o.tfId("main-nav")),this.bodyCl.contains("fixed-header-enabled")&&r.fixedHeader(),this.headerVideo(),this.sideMenu(),this.skills(),r.on("tf_lazy tf_swiper_init",e=>{const t=e.el||e;this.skills(t)}),o.tfClass("post")[0]!==s&&this.infinite("#loops-wrapper"),o.tfClass("portfolio-post")[0]!==s&&this.infinite(".portfolio-wrapper"),setTimeout(()=>{this.loadFilterCss(),setTimeout(()=>{this.scrollTo(),this.portfolioExpand()},1e3)},800)},infinite(t){for(let e=(t=o.querySelectorAll(t)).length-1;-1<e;--e)t[e].tfOn("infiniteloaded",e=>{const o=[],i=e.detail.items;for(let e=i.length-1;-1<e;--e){if(i[e].classList.contains("post")){let t=i[e].tfClass("slides");for(let e=t.length-1;-1<e;--e)o.push(t[e])}this.skills(i[e])}0<o.length&&r.carousel(o)},{passive:!0});r.infinity(t,{scrollToNewOnLoad:e.scrollToNewOnLoad,scrollThreshold:"auto"===e.autoInfinite&&200})},headerVideo(){const e=o.tfId("headerwrap");if(e){const t=r.selectWithParent("[data-fullwidthvideo]",e);0<t.length&&r.loadJs(n.theme_url+"/js/modules/headerVideo",null,n.theme_v).then(()=>{r.trigger("themify_theme_header_video_init",[t])})}},skills(e){const t=(e=e||o).tfClass("progress-bar");if(t[0]!==s){null===l&&(l=new IntersectionObserver((o,e)=>{for(let t=o.length-1;-1<t;--t)if(1===o[t].intersectionRatio||0===o[t].intersectionRatio){let e=o[t].target.tfTag("span")[0];e.style.transition=0===o[t].intersectionRatio?"none":"",e.style.width=0===o[t].intersectionRatio?"0px":e.getAttribute("data-percent")}},{threshold:[0,1]}));for(let e=t.length-1;-1<e;--e)l.observe(t[e])}},sideMenu(){const e=o.tfId("menu-icon");if(null!==e)r.sideMenu(e,{close:"#menu-icon-close",side:this.bodyCl.contains("header-minbar")||this.bodyCl.contains("header-leftpane")?"left":"right"});else{const t=o.tfId("menu-icon-dropdown");t&&(t.tfOn("click",()=>{$(".dropdown-menu-style #main-nav").fadeToggle(),this.bodyCl.toggle("dropdown-menu-visible")},{passive:!0}),o.tfOn("click",e=>{e.target.closest("#menu-icon-dropdown")||($(".dropdown-menu-style.mobile_menu_active #main-nav").slideUp("fast"),this.bodyCl.remove("dropdown-menu-visible"))},{passive:!0}))}r.body.on("touchstart touchmove touchend","#main-nav",function(e){e.stopPropagation()})},portfolioExpand(){this.bodyCl.contains("single-portfolio-expanded")?(i.top.Themify.trigger("theme_portfolio_expand",o.body.clientHeight),r.on("tfsmartresize",e=>{i.top.Themify.trigger("theme_portfolio_expand",o.body.clientHeight)})):r.on("theme_portfolio_expand",e=>{const t=o.tfId("portfolio-lightbox-iframe");t&&(t.style.height=e+"px")}).body.on("click",".porto-expand-js",function(t){if(!t.target.closest(".themify_builder_slider")){t.preventDefault();const s=$(this),l=$(i).scrollTop();let e=this.closest(".shortcode,.module-portfolio");e=e||this.closest(".post").parentNode,$(".portfolio-expanded").remove(),$('<div class="portfolio-expanded tf_rel tf_clear tf_overflow"><iframe id="portfolio-lightbox-iframe" class="tf_block tf_w"></iframe></div>').appendTo(e).hide(),$(".portfolio-loader").remove(),$('<div class="portfolio-loader tf_loader tf_hide">').appendTo(s.closest(".portfolio-post").find(".post-image")).show(),$(".portfolio-expanded").show(),$("#portfolio-lightbox-iframe").prop("src",r.updateQueryString("porto_expand",1,s.attr("href"))).on("load",function(){const e=$(this).contents(),i=s.data("post-id"),n=[];$(".portfolio-loader").remove(),$(".portfolio-expanded").hide().slideDown("slow",function(){r.scrollTo($(".portfolio-expanded").offset().top-$("#main-nav-wrap").outerHeight(),1e3),r.body.triggerHandler("portfolio_expanded")}),e.find(".close-expanded").on("click",function(e){e.preventDefault(),$(".portfolio-expanded").slideUp(800,function(){$(this).remove()}),r.scrollTo(l)});let o=!1;s.closest(".post").parent().find(".post").each(function(){let t=$(this).find("a.porto-expand-js").first();if(0<t.length){let e=t.data("post-id");e&&(n.push({id:e,post:t}),i===e)&&(o=parseInt(n.length-1))}}),0===o?e.find(".expand-prev").remove():o===n.length-1&&e.find(".expand-next").remove(),1<n.length&&e.find(".expand-arrow").on("click",function(e){e.preventDefault();let t=!1;for(let e in n)if(n[e].id===i){t=parseInt(e);break}if(!1!==t){const o=$(this).hasClass("expand-next")?t+1:t-1;n[o]&&n[o].post.trigger("click")}}).show()})}})},scrollTo(){const e=i.location.hash.replace(/^#\!\//,"").replace("#","");if(""!==e&&0<$("#"+e).length){const t=$("#"+e),o=t.offset().top;r.scrollTo(o,1e3)}$(".back-top a").on("click",e=>{e.preventDefault(),r.scrollTo()})},loadFilterCss(){const t=["blur","grayscale","sepia","none"];for(let e=t.length-1;-1<e;--e)o.tfClass("filter-"+t[e])[0]===s&&o.tfClass("filter-hover-"+t[e])[0]===s||r.loadCss(n.theme_url+"/styles/modules/filters/"+t[e],null,n.theme_v)}};t.init()})(jQuery,Themify,window,document,themify_vars,themifyScript,void 0);