((i,r,l,e,t)=>{"use strict";const o={bodyCl:l.body.classList,v:e.theme_v,url:e.theme_url,hasLoaderEffect:"1"==t.pageLoaderEffect,init(){!0===this.hasLoaderEffect&&(setTimeout(()=>{this.click()},2e3),i.on("themify_theme_ready",()=>{this.ready()},!0)),this.isSplitScroll=("mobile"!==i.device||i.w>=t.splitScrollThreshold)&&!1===i.is_builder_active&&this.bodyCl.contains("split-scroll")&&void 0!==l.tfClass("module_row")[0],this.splitScroll(),this.fixedHeader(),this.sideMenu(),this.mobileMenuDropDown(),this.doInfinite(l.tfId("loops-wrapper")),this.bodyCl.contains("post-type-archive-product")&&this.doInfinite(l.querySelector("#content ul.products")),setTimeout(()=>{this.backToTop()},2e3),!1===this.isSplitScroll&&!0===this.hasLoaderEffect&&i.trigger("themify_theme_ready")},splitScroll(){!0===this.isSplitScroll?Promise.all([i.loadJs(this.url+"/js/modules/split/splitscroll.min",void 0!==jQuery.fn.multiscroll,t.s_p_v),i.loadJs(this.url+"/js/modules/split/split",null,this.v)]).then(()=>{i.trigger("themify_theme_split_init",{maxWidth:t.splitScrollThreshold})}):(this.bodyCl.add("split-scroll-off"),this.bodyCl.remove("split-scroll"),"undefined"!=typeof tbLocalScript&&i.on("themify_builder_loaded",()=>{delete tbLocalScript.scrollHighlight,ThemifyBuilderModuleJs.initScrollHighlight()},!0,i.is_builder_loaded))},fixedHeader(){!1===i.is_builder_active&&this.bodyCl.contains("fixed-header-enabled")&&null!==l.tfId("headerwrap")&&i.fixedHeader()},sideMenu(){i.sideMenu(l.tfId("menu-icon"),{close:"#menu-icon-close",hasOverlay:!0})},backToTop(){const e=l.tfClass("back-top")[0],t=l.tfId("footerwrap");this.bodyCl.contains("split-scroll-off")&&!this.isSplitScroll&&t&&(t.querySelector(".footer_inner").classList.remove("tf_hide"),i.lazyScroll(t.querySelectorAll("[data-lazy]"),!0),t.classList.toggle("expanded")),void 0!==e&&e.tfOn("click",e=>{e.preventDefault(),e.stopPropagation(),this.isSplitScroll?t&&(t.querySelector(".footer_inner").classList.remove("tf_hide"),i.lazyScroll(t.querySelectorAll("[data-lazy]"),!0),t.classList.toggle("expanded")):i.scrollTo()})},doInfinite(e){!1===i.is_builder_active&&t.infinityEnabled&&i.infinity(e,{scrollToNewOnLoad:t.scrollToNewOnLoad,history:!!t.infiniteURL&&"replace"})},mobileMenuDropDown(){i.megaMenu(l.tfId("main-nav"),!0)},click(){let s=!0;r.tfOn("beforeunload",e=>{s&&(s=!0,this.bodyCl.add("hidden-view"),this.bodyCl.remove("ready-view"))},{passive:!1}),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&r.tfOn("load",e=>{e.persisted&&(this.bodyCl.remove("hidden-view"),this.bodyCl.add("ready-view"))},{passive:!0}),l.tfOn("click",t=>{if(s=!1,!t.ctrlKey&&!t.metaKey){let e=t.target.closest("a");if(!e){const i=(e=(e=t.target.closest("button"))||t.target).closest("form");if(i&&i.method&&"post"===i.method.toLowerCase())return}if(e&&"_blank"!==e.getAttribute("target")&&!e.hasAttribute("data-product_id")){const l=e.getAttribute("href"),o=e.classList;!l||"#"===l||-1===l.indexOf(r.location.hostname)||o.contains("ajax_add_to_cart")||o.contains("themify_lightbox")||(s=!0)}}},{passive:!0})},ready(){this.bodyCl.remove("hidden-view"),this.bodyCl.add("ready-view");const e=l.tfClass("split-loader")[0];e&&e.remove()}};o.init()})(Themify,window,document,themify_vars,themifyScript);