((t,$,r,s)=>{"use strict";let e="",i;const n="<!--themify_builder_static--><!--/themify_builder_static-->",o=[/\<\!--themify_builder_static--\>([\s\S]*?)<!--\/themify_builder_static--\>/gi,/\&lt;\!--themify_builder_static--\&gt;([\s\S]*?)\&lt;\!--\/themify_builder_static--\&gt;/gi,/\&amp;lt;\!--themify_builder_static--\&amp;gt;([\s\S]*?)\&amp;lt;\!--\/themify_builder_static--\&amp;gt;/gi],l=themifyBuilder.short_badge?"excerpt":"content",a=(r.mce.views.register("tb_static_badge",{template:r.media.template("tb-static-badge"),bindNode(t,e){e.addEventListener(Themify.click,t=>{const e=t.target.closest(".tb_mce_view_frontend_btn,.tb_mce_view_backend_btn");e&&(e.classList.contains("tb_mce_view_frontend_btn")?this.goToFront():Themify.trigger("tb_scroll_to_builder"))})},getContent(){return this.template({})},match(t){const e=r.mce.views._tb_static_content.isMatch(t);if(e)return{index:e.index,content:e[0],options:{}}},View:{className:"tb_static_badge",template:r.media.template("tb-static-badge"),getHtml(){return this.template({})}},edit(){this.goToFront()},goToFront(){Themify.triggerEvent(s.tfClass("tb_switch_frontend")[0],Themify.click)},contentPlaceholder(t){return e=e||t,n+(t.length>n.length?" ".repeat(t.length-n.length):"")}}),r.mce.views._tb_static_content={setContent(t,e){e=e&&e.trim();const i="undefined"!=typeof tinyMCE?tinyMCE.get(l):null;if(i)if(i.hidden){let t=s.tfId(l);t&&t.value.trim()!==e&&(t.value=e)}else e!==i.getContent().trim()&&i.setContent(e);else e!==t.value.trim()&&(t.value=e)},isMatch(t){return o[0].exec(t)||o[1].exec(t)||o[2].exec(t)}},$(s).on("tinymce-editor-init",(t,e)=>{if(e.wp&&e.wp._createToolbar){const i=e.wp._createToolbar(["wp_view_edit"]);i&&e.on("wptoolbar",t=>{e.dom.hasClass(t.element,"wpview")&&"tb_static_badge"===e.dom.getAttrib(t.element,"data-wpview-type")&&(t.toolbar=i)})}e.id===l&&e.setContent(r.mce.views.setMarkers(e.getContent())),e.on("beforesetcontent",t=>{t.content=r.mce.views.setMarkers(t.content)})}),Themify.on("themify_builder_save_data",t=>{if(themifyBuilder.is_gutenberg_editor||!t.builder_data||!t.static_content)return!0;let e="undefined"!=typeof tinyMCE?tinyMCE.get(l):null,i=null;if(e)i=e.hidden?tinymce.DOM.get(l).value:e.getContent();else{if(!(e=s.tfId(l)))return;i=e.value}if(null!==i){const n=r.mce.views._tb_static_content.isMatch(i),a=n?((i,n)=>{if(i)for(let t=0,e=o.length;t<e;++t)i=i.replaceAll(o[t],n);else i="";return i})(i,t.static_content):i+t.static_content;r.mce.views._tb_static_content.setContent(e,a)}}),{timeout:null,init(){$(window).on("YoastSEO:ready",()=>{a.load()})},load(){themifyBuilder.is_gutenberg_editor&&(e=r.data.select("core/editor").getCurrentPost().builder_content),YoastSEO.app.registerPlugin("TBuilderReader",{status:"loading"}),YoastSEO.app.pluginReady("TBuilderReader"),YoastSEO.app.registerModification(l,a.readContent,"TBuilderReader",5),a.update()},readContent(t){return e&&(themifyBuilder.is_gutenberg_editor?t+=" "+e:t=t.replace(n,e).replace(/(\r\n|\n|\r)/gm,"")),t},update(){i&&clearTimeout(i),i=setTimeout(()=>{YoastSEO.app.refresh()},250)}});a.init()})(tb_app,jQuery,wp,document);